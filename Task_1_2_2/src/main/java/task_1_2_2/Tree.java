/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package task_1_2_2;

public class Tree<T> {
    class Node<T> {

        T value;
        Node parent;
        Node[] children;
        int childrenCapacity = 3;
        int childrenLength = 0;

        public Node(T value) {
            this.value = value;
            this.children = new Node[childrenCapacity];
        }

        private void growChildren() {
            int newChildrenCapacity = (int)(childrenCapacity * 1.5);
            Node[] newChildren = new Node[newChildrenCapacity];
            System.arraycopy(children, 0, newChildren, 0, childrenLength);
            children = newChildren;
            childrenCapacity = newChildrenCapacity;
        }

        private void addChild(Node child) {
            if (childrenLength == childrenCapacity) {
                growChildren();
            }
            child.parent = this;
            children[childrenLength] = child;
        }
    }

    Node root;

    public void add(String value) {
        if (root.value == null) {
            root.value = value;
        } else {
            root.addChild(new Node(value));
        }
    }

    public void add(Node parent, String value) {
        parent.addChild(new Node<>(value));
    }

}
